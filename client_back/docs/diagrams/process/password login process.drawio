<mxfile host="65bd71144e">
    <diagram id="B2Imsyf_CLR86bu_pUIC" name="Page-1">
        <mxGraphModel dx="923" dy="1717" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="522" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="519" target="521" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="519" value="app start" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="29" y="18" width="125" height="99" as="geometry"/>
                </mxCell>
                <mxCell id="528" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0.017;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="521" target="566" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="249" y="144.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="562" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="521" target="561" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="521" value="Look at wallets,&lt;br&gt;are there any on an old password?&lt;br&gt;(passwordVersion &amp;lt; max for all wallets)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="189" y="37.5" width="120" height="160.5" as="geometry"/>
                </mxCell>
                <mxCell id="603" value="validate&lt;br&gt;old&lt;br&gt;pass&lt;br&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="561" target="602" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="605" value="abort" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="561" target="566">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="428" y="225"/>
                            <mxPoint x="279" y="225"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="561" value="inform we previous password change in progress, ask for old password" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="368" y="10" width="120" height="115" as="geometry"/>
                </mxCell>
                <mxCell id="587" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="563" target="586" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="563" value="Create Current Ciphers" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="581" y="168" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="573" value="after validation" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="566" target="563" edge="1">
                    <mxGeometry x="-0.1508" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="560" y="282"/>
                            <mxPoint x="560" y="198"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="566" value="ask for password" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="189" y="251.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="578" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="577" target="579" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1001.0076141357422" y="305.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="577" value="verify all wallets on latest cipher and password" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="753" y="243.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="582" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="579" target="580" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="579" value="cleanup ciphers" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="989" y="243.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="580" value="redirect to home screen" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="989" y="349.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="583" value="having password versions be cipher type specific allows us to have multiple passwords for different wallets.&lt;br&gt;but it doesn't allow us to know if a password version is the latest password version.&lt;br&gt;if I have 2 wallets one is on 3 and one is on 4 how do I know 4 is actually the latest version?&lt;br&gt;what if the one on 3 is the latest cipher and 4 isn't?&lt;br&gt;&lt;br&gt;how do I know what password to use unless I just keep all their hashes around?&amp;nbsp;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="9" y="-283" width="838" height="277.5" as="geometry"/>
                </mxCell>
                <mxCell id="594" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="586" target="593" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="600" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="586" target="577" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="586" value="for each wallet with an old cipher (for whatever reason)..." style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="753" y="37.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="593" value="updateWallet" style="swimlane;" parent="1" vertex="1">
                    <mxGeometry x="1012" y="-116" width="145" height="326" as="geometry"/>
                </mxCell>
                <mxCell id="589" value="decrypt wallet" style="rounded=1;whiteSpace=wrap;html=1;" parent="593" vertex="1">
                    <mxGeometry x="12.5" y="40" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="592" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="593" source="589" target="591" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="599" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="593" source="591" target="598" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="591" value="encrypt wallet with latest cipher" style="rounded=1;whiteSpace=wrap;html=1;" parent="593" vertex="1">
                    <mxGeometry x="12.5" y="146.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="598" value="save wallet record with latest CipherUpdate" style="rounded=1;whiteSpace=wrap;html=1;" parent="593" vertex="1">
                    <mxGeometry x="12.5" y="256" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="604" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="602" target="566" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="641" y="145"/>
                            <mxPoint x="539" y="145"/>
                            <mxPoint x="539" y="267"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="602" value="Create Old Ciphers" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="581" y="37.5" width="120" height="60" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>